今回の追加機能実装では、「８分木空間分割」の実装に挑戦しました。
これにより、従来はワールド内すべてのオブジェクトと毎フレーム衝突判定をしていましたが、空間分割により区切られた範囲のうち、同一の空間に所属するオブジェクト同士のみで衝突判定をするようになり、大量のオブジェクトを配置し当たり判定を計算しても、重くなりにくくなりました。

今回実装した８分木空間分割は、その名の通り８分木構造により各空間と衝突判定処理を行うオブジェクトの組み合わせを管理することにより、判定処理の最適化を行うものです。
これまで私が制作してきた作品で、木構造を用いたプログラムはほとんどなかったため、木構造の利用法から実際の実装まで学び、作品への実装に掛かりました。
初めて扱うデータ構造であり、８分木やそれを用いた空間分割の仕組みを理解するまで時間を要しましたが、しっかりとプログラムの内容を理解しながら実装することが出来たと感じております。

この作品自体、初期の設計が甘くAssetListから追加したオブジェクトの管理がうまく出来ておらず、それにより後あから追加したオブジェクトとの衝突判定にバグを孕んでいる状態ですが、８分木空間分割そのものをクラス化ししっかりと動作するものとして動かすことが出来たので、非常に達成感もあり学びの多い実装でありました。